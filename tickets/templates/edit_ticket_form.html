{% extends "base.html" %}

{% block content %}
    <h2>Edit Ticket</h2>
    <p>Customer: {{ticket.customer.username}}</p>
    <p>Expected Resolution Date: {{ticket.expected_resolution_date}}</p>
    <p>Assigned to: {{ticket.assigned_to.username|default:"Unassigned"}}</p>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Save</button>
    </form>
    
    <script>
        document.getElementById("edit-ticket-form").addEventListener("submit", function(event) {
            var comments = document.getElementById("id_comments").value;
            var device = document.getElementById("id_device").value;

            if (!comments || !device) {
                alert("Comments and Device cannot be empty.");
                event.preventDefault(); // Prevent form submission
            }
        });
    </script>
    
{% endblock %}
